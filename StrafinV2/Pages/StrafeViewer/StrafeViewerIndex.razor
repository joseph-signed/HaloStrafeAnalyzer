@page "/"

@using SharpDX.XInput
@using StrafinV2.Data




<h3>Strafe Viewer</h3>

<p role="status">Current left joystick X position: @XInputController.left_x</p>

<p role="status">Current left joystick Y position: @XInputController.left_y</p>

<p role="status">Current right joystick X position: @XInputController.right_x</p>

<p role="status">Current right joystick Y position: @XInputController.right_y</p>

<button class="btn btn-primary" @onclick="StartJoyStickUpdating">Start Viewer</button>


@code
{
    private void StartJoyStickUpdating()
    {
        var timer = new Timer(UpdateJoySticksCallBack, null, 10, 10);
    }
    private void UpdateJoySticksCallBack(object state)
    {
        XInputController.Update();
        InvokeAsync(StateHasChanged);
    }
}


